(this["webpackJsonptable-component"]=this["webpackJsonptable-component"]||[]).push([[0],{40:function(t,e,n){},44:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){},47:function(t,e,n){},48:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(17),s=n.n(a),i=n(13),o=n(12),u="get_all_post",j="filter_text",l="set_current_page",d="get_posts_at_page",b=function(t){return{type:u,payload:t}},p=function(){return{type:d}},O=function(t){return{type:j,payload:t}},f=function(t){return{type:l,payload:t}},h=n(11),x=n(3),g=(n(40),n(1));var v=function(){return Object(g.jsx)("div",{className:"loadingio-spinner-dual-ring-uhp275ka0wt",children:Object(g.jsxs)("div",{className:"ldio-x9915im0a9n",children:[Object(g.jsx)("div",{}),Object(g.jsx)("div",{children:Object(g.jsx)("div",{})})]})})},P=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h1",{children:"\u0414\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(g.jsxs)("p",{children:["\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0435\u0440\u043d\u0438\u0442\u0435\u0441\u044c \u043d\u0430 ",Object(g.jsx)(h.b,{to:"/",children:"\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"})]})]})},m=n(16),y=n.n(m),A=n(26),w=n(29),I=n(30),L=function(){function t(){Object(w.a)(this,t),this._api="https://jsonplaceholder.typicode.com"}return Object(I.a)(t,[{key:"getPost",value:function(){var t=Object(A.a)(y.a.mark((function t(){var e,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this._api,"/posts"));case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getFilterPost",value:function(){var t=Object(A.a)(y.a.mark((function t(e){var n,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this._api,"/posts?userId=").concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:return c=t.sent,t.abrupt("return",c);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),k=(n(44),n(45),function(t){var e=t.setFilterId;return Object(g.jsx)("form",{action:"",className:"filter-form",children:Object(g.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 user id",onChange:function(t){e(parseInt(t.target.value,10))}})})}),_=n(49),N=50,C=(n(46),function(t){var e=t.activePage,n=t.postListLength,c=r.a.useState([]),a=Object(i.a)(c,2),s=a[0],o=a[1],u=n,j=function(t){return Object(g.jsx)("li",{children:Object(g.jsx)(h.b,{to:"/page/"+t,children:t})},Object(_.a)())},l=function(t){return Object(g.jsx)("li",{children:Object(g.jsx)("span",{children:t})},Object(_.a)())};return r.a.useEffect((function(){!function(t){for(var n=t/50,c=[],r=1;r<=n;r++)e===r?c.push(l(r)):c.push(j(r));o(c)}(u)}),[u,e]),Object(g.jsx)("ul",{className:"pagination",children:s})}),F=n(9),E=n(4),S=(n(47),function(t){var e=t.postsAtPage,n=Object(c.useState)({fields:[],direction:"down"}),r=Object(i.a)(n,2),a=r[0],s=r[1];Object(c.useEffect)((function(){s((function(t){return Object(E.a)(Object(E.a)({},t),{},{fields:e})}))}),[e]);var o=function(t){var e=Object(F.a)(a.fields);e.sort((function(e,n){return e[t]<n[t]?"down"===a.direction?1:-1:e[t]>n[t]?"down"===a.direction?-1:1:0})),s((function(t){return Object(E.a)(Object(E.a)({},t),{},{fields:Object(F.a)(e),direction:"down"===t.direction?"up":"down"})}))},u=a.fields.map((function(t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t.userId}),Object(g.jsx)("td",{children:t.id}),Object(g.jsx)("td",{className:"text-left",children:t.title}),Object(g.jsx)("td",{className:"text-left",children:t.body})]},Object(_.a)())}));return Object(g.jsx)("div",{className:"table-responsive",children:Object(g.jsxs)("table",{children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{onClick:function(){return o("userId")},children:"User Id"}),Object(g.jsx)("th",{onClick:function(){return o("id")},children:"Title id"}),Object(g.jsx)("th",{onClick:function(){return o("title")},children:"Title"}),Object(g.jsx)("th",{onClick:function(){return o("body")},children:"Message"})]})}),Object(g.jsxs)("tbody",{children:[0===a.fields.length&&Object(g.jsx)("tr",{children:Object(g.jsx)("td",{colSpan:"4",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})}),u]})]})})}),J=Object(o.b)((function(t){return{postList:t.postList,postsAtPage:t.postsAtPage,activePage:t.activePage}}),(function(t){return{setCurrentPage:function(e){t(f(e))},getPostsAtPage:function(){t(p())},setFilterId:function(e){t(O(e))}}}))((function(t){var e=t.postList,n=t.postsAtPage,r=t.activePage,a=t.currentPage,s=t.getPostsAtPage,i=t.setCurrentPage,o=t.setFilterId,u=parseInt(r,10);return Object(c.useEffect)((function(){s(),i(a||r)}),[s,r,a]),Object(g.jsxs)("main",{className:"main-page",children:[Object(g.jsx)(k,{postsAtPage:n,setFilterId:o}),Object(g.jsx)(S,{postsAtPage:n}),Object(g.jsx)(C,{postListLength:e.length,activePage:u})]})})),M=new L,T=Object(o.b)(null,(function(t){return{getAllPosts:function(e){t(b(e))}}}))((function(t){var e=t.getAllPosts,n=Object(c.useState)(!1),r=Object(i.a)(n,2),a=r[0],s=r[1];return Object(c.useEffect)((function(){M.getPost().then((function(t){e(t),s(!0)}))}),[e]),a?Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(h.a,{basename:"/table-component",children:Object(g.jsxs)(x.c,{children:[Object(g.jsx)(x.a,{path:"/",exact:!0,render:function(){return Object(g.jsx)(J,{currentPage:1})}}),Object(g.jsx)(x.a,{path:"/page/:num",exact:!0,render:function(t){var e=t.match,n=parseInt(e.params.num,10);return Object(g.jsx)(J,{currentPage:n})}}),Object(g.jsx)(x.a,{component:P})]})})}):Object(g.jsx)(v,{})})),B=n(20),U={postList:[],postsAtPage:[],filterId:0,activePage:1},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case u:return Object(E.a)(Object(E.a)({},t),{},{postList:Object(F.a)(e.payload)});case d:var n=t.postList.slice((t.activePage-1)*N,t.activePage*N);return Object(E.a)(Object(E.a)({},t),{},{postsAtPage:Object(F.a)(n)});case j:if(!e.payload||""===e.payload){var c=t.postList.slice((t.activePage-1)*N,t.activePage*N);return Object(E.a)(Object(E.a)({},t),{},{postsAtPage:Object(F.a)(c)})}var r=t.postList.slice((t.activePage-1)*N,t.activePage*N).filter((function(t){return t.userId===e.payload}));return Object(E.a)(Object(E.a)({},t),{},{postsAtPage:Object(F.a)(r)});case l:return Object(E.a)(Object(E.a)({},t),{},{activePage:e.payload});default:return t}},z=Object(B.b)(q);s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(o.a,{store:z,children:Object(g.jsx)(T,{})})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.d43e53e5.chunk.js.map